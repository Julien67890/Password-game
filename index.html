<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mot de Passe â€” DÃ©fie l'IA !</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Ã‰CRAN ACCUEIL â•â• -->
<div id="screen-home" class="screen active">
  <div class="home-bg"></div>
  <div class="home-content">

    <div class="logo-wrap">
      <div class="logo-badge">ğŸ”</div>
      <h1 class="logo-title">MOT DE PASSE</h1>
      <p class="logo-sub">Le jeu des indices Â· IA Ã©dition</p>
    </div>

    <div class="setup-card">

      <!-- Scores persistants -->
      <div class="score-banner">
        <span>ğŸ† Record : <strong id="best-score">0</strong></span>
        <span>ğŸ¯ Parties : <strong id="total-games">0</strong></span>
      </div>

      <!-- RÃ´le -->
      <div class="setup-section">
        <label class="setup-label">Ton rÃ´le dans la manche</label>
        <div class="role-toggle">
          <button class="role-btn active" data-role="guesser" id="btn-guesser">
            <span class="role-icon">ğŸ§ </span>
            <span class="role-name">Je devine</span>
            <span class="role-desc">L'IA me donne des indices</span>
          </button>
          <button class="role-btn" data-role="hinter" id="btn-hinter">
            <span class="role-icon">ğŸ’¡</span>
            <span class="role-name">Je fais deviner</span>
            <span class="role-desc">Je donne des indices Ã  l'IA</span>
          </button>
        </div>
      </div>

      <!-- ThÃ¨me -->
      <div class="setup-section">
        <label class="setup-label">ThÃ¨me</label>
        <div class="theme-grid" id="theme-grid"></div>
      </div>

      <!-- Mots par manche -->
      <div class="setup-section setup-row">
        <label class="setup-label">Mots par manche</label>
        <div class="timer-options">
          <button class="timer-btn" data-words="3">3</button>
          <button class="timer-btn active" data-words="5">5</button>
          <button class="timer-btn" data-words="7">7</button>
        </div>
      </div>

      <!-- DurÃ©e de la manche -->
      <div class="setup-section setup-row">
        <label class="setup-label">DurÃ©e de la manche</label>
        <div class="timer-options" style="flex-wrap:wrap;gap:.3rem;">
          <button class="timer-btn active" data-duration="30">30s</button>
          <button class="timer-btn" data-duration="60">1 min</button>
          <button class="timer-btn" data-duration="120">2 min</button>
          <button class="timer-btn" data-duration="180">3 min</button>
          <button class="timer-btn" data-duration="300">5 min</button>
        </div>
      </div>

      <!-- Mode vocal -->
      <div class="setup-section setup-row">
        <label class="setup-label">Mode vocal ğŸ™ï¸ <span class="voice-badge" id="voice-support-badge"></span></label>
        <label class="toggle-switch">
          <input type="checkbox" id="voice-toggle" />
          <span class="toggle-slider"></span>
        </label>
      </div>

      <button class="btn-start" id="btn-start">C'est parti ! ğŸš€</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Ã‰CRAN JEU â•â• -->
<div id="screen-game" class="screen">

  <!-- Header -->
  <header class="game-header">
    <button class="btn-icon" id="btn-home" title="Accueil">ğŸ </button>
    <div class="header-center">
      <div class="header-theme" id="header-theme"></div>
      <div class="header-score">
        <span id="manche-label">Manche 1</span> Â·
        Score : <strong id="live-score">0</strong>
        <span class="streak" id="streak-badge"></span>
      </div>
    </div>
    <button class="btn-icon" id="btn-swap" title="Inverser les rÃ´les">ğŸ”„</button>
  </header>

  <!-- Barre de progression des mots -->
  <div class="word-progress" id="word-progress">
    <!-- pastilles gÃ©nÃ©rÃ©es par JS -->
  </div>

  <!-- Chrono MANCHE (30s fixe) -->
  <div class="timer-bar-wrap" id="timer-bar-wrap">
    <div class="timer-bar" id="timer-bar"></div>
    <span class="timer-text" id="timer-text">30</span>
  </div>

  <!-- Zone principale -->
  <main class="game-main">

    <!-- Mot secret courant -->
    <div class="secret-card" id="secret-card">
      <div class="secret-meta" id="secret-meta"></div>
      <div class="secret-theme" id="secret-theme"></div>
      <div class="secret-word" id="secret-word">???</div>
      <div class="secret-hint" id="secret-role-hint"></div>
    </div>

    <!-- File d'attente : mots restants / passÃ©s -->
    <div class="queue-bar" id="queue-bar"></div>

    <!-- Historique indices du MOT COURANT -->
    <div class="history-wrap">
      <div class="history" id="history"></div>
    </div>

    <!-- â”€â”€â”€ MODE GUESSER : l'IA donne l'indice, je devine â”€â”€â”€ -->
    <div class="input-zone" id="zone-guesser">
      <div class="ia-bubble" id="ia-clue-display">
        <span class="ia-avatar">ğŸ¤–</span>
        <span id="ia-clue-text">En attente d'indiceâ€¦</span>
      </div>
      <div class="input-row">
        <input type="text" id="input-guess" class="game-input" placeholder="Ta rÃ©ponseâ€¦" autocomplete="off" spellcheck="false" />
        <button class="btn-submit" id="btn-guess" title="Valider">âœ“</button>
        <button class="btn-mic" id="btn-mic-guess" title="Parler" style="display:none">ğŸ™ï¸</button>
      </div>
      <div class="action-row">
        <button class="btn-secondary" id="btn-next-clue">Indice suivant ğŸ”®</button>
        <button class="btn-pass" id="btn-pass-guesser">Passer â­</button>
      </div>
    </div>

    <!-- â”€â”€â”€ MODE HINTER : je donne l'indice, l'IA devine â”€â”€â”€ -->
    <div class="input-zone hidden" id="zone-hinter">
      <p class="zone-instruction">Donne un <strong>seul mot-indice</strong> Ã  l'IA !</p>
      <div class="ia-guess-panel" id="ia-guess-panel">
        <div class="ia-guess-label">ğŸ¤– L'IA propose :</div>
        <div class="ia-guess-word" id="ia-guess-word">â€”</div>
        <div class="ia-guess-temp" id="ia-guess-temp"></div>
      </div>
      <div class="input-row">
        <input type="text" id="input-hint" class="game-input" placeholder="Ton indice (1 mot)â€¦" autocomplete="off" spellcheck="false" />
        <button class="btn-submit" id="btn-hint" title="Envoyer">â†’</button>
        <button class="btn-mic" id="btn-mic-hint" title="Parler" style="display:none">ğŸ™ï¸</button>
      </div>
      <div class="action-row">
        <button class="btn-pass" id="btn-pass-hinter">Passer â­</button>
      </div>
    </div>

  </main>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Ã‰CRAN FIN DE MANCHE â•â• -->
<div id="screen-result" class="screen">
  <div class="result-content">
    <div class="result-emoji" id="result-emoji">ğŸ‰</div>
    <h2 class="result-title" id="result-title">Manche terminÃ©e !</h2>
    <p class="result-subtitle" id="result-subtitle"></p>

    <!-- RÃ©cap mots -->
    <div class="result-words" id="result-words"></div>

    <div class="result-stats">
      <div class="stat-pill">Score total <strong id="res-score">0</strong></div>
      <div class="stat-pill">TrouvÃ©s <strong id="res-found">0</strong>/5</div>
      <div class="stat-pill">SÃ©rie <strong id="res-streak">0</strong> ğŸ”¥</div>
    </div>
    <div class="result-actions">
      <button class="btn-primary" id="btn-next-manche">Manche suivante â–¶</button>
      <button class="btn-ghost" id="btn-home-result">Menu ğŸ </button>
    </div>
  </div>
</div>

<!-- Toast global -->
<div id="toast"></div>

<!-- Pas d'overlay vocal -->

<script src="script.js"></script>
</body>
</html>
